/*
ChocolateChip-UI
ChUI.js
Copyright 2014 Sourcebits www.sourcebits.com
License: MIT
Version: 3.5.5
*/

!function(a){"use strict";a.extend({Uuid:function(){return Date.now().toString(36)},concat:function(a){return a instanceof Array?a.join(""):[].slice.apply(arguments).join("")},forEach:function(a,b,c){function d(a){var b=a.length,c=jQuery.type(a);return"function"===c||jQuery.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var e,f=0,g=a.length,h=d(a);if(c){if(h){for(;g>f;f++)if(e=b.apply(a[f],c),e===!1)break}else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h){for(;g>f;f++)if(e=b.call(a[f],a[f],f),e===!1)break}else for(f in a)if(e=b.call(a[f],a[f],f),e===!1)break}}),a.fn.extend({iz:function(b){var c=a();return this.forEach(function(d){a(d).is(b)&&c.push(d)}),c},iznt:function(a){return this.not(a)},haz:function(a){return this.has(a)},haznt:function(b){var c=a();return this.forEach(function(d){a(d).has(b)[0]||c.push(d)}),c},hazClass:function(b){var c=a();return this.forEach(function(d){a(d).hasClass(b)&&c.push(d)}),c},hazntClass:function(b){var c=a();return this.forEach(function(d){a(d).hasClass(b)||c.push(d)}),c},hazAttr:function(b){var c=a();return this.forEach(function(d){a(d).attr(b)&&c.push(d)}),c},hazntAttr:function(b){var c=a();return this.forEach(function(d){a(d).attr(b)||c.push(d)}),c},forEach:function(b,c){return a.forEach(this,b,c)}}),a.extend({eventStart:null,eventEnd:null,eventMove:null,eventCancel:null,gestureLength:30}),a(function(){window.navigator.pointerEnabled?(a.eventStart="pointerdown",a.eventEnd="pointerup",a.eventMove="pointermove",a.eventCancel="pointercancel"):window.navigator.msPointerEnabled?(a.eventStart="MSPointerDown",a.eventEnd="MSPointerUp",a.eventMove="MSPointerMove",a.eventCancel="MSPointerCancel"):"ontouchstart"in window?(a.eventStart="touchstart",a.eventEnd="touchend",a.eventMove="touchmove",a.eventCancel="touchcancel"):(a.eventStart="mousedown",a.eventEnd="click",a.eventMove="mousemove",a.eventCancel="mouseout")}),a.extend({isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isWebOS:/webos/gim.test(navigator.userAgent),isBlackberry:/blackberry/gim.test(navigator.userAgent),isTouchEnabled:"createTouch"in document,isOnline:navigator.onLine,isStandalone:navigator.standalone,isiOS6:navigator.userAgent.match(/OS 6/i),isiOS7:navigator.userAgent.match(/OS 7/i),isWin:/trident/gim.test(navigator.userAgent),isWinPhone:/trident/gim.test(navigator.userAgent)&&/mobile/gim.test(navigator.userAgent),isIE10:navigator.userAgent.match(/msie 10/i),isIE11:navigator.userAgent.match(/msie 11/i),isWebkit:navigator.userAgent.match(/webkit/),isMobile:/mobile/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isSafari:!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:/Chrome/gim.test(navigator.userAgent),isNativeAndroid:/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)}),/android/gim.test(navigator.userAgent)&&/webkit/gim.test(navigator.userAgent)&&!/Chrome/gim.test(navigator.userAgent)&&document.body.classList.add("isNativeAndroidBrowser"),a.extend({browserVersion:function(){var a=navigator.appName,b=navigator.userAgent,c,d=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return d&&null!==(c=b.match(/version\/([\.\d]+)/i))&&(d[2]=c[1]),d=d?[d[1],d[2]]:[a,navigator.appVersion,"-?"],d[1]}}),a(function(){a.body=a("body"),a.isWin?a.body.addClass("isWindows"):a.isiOS?a.body.addClass("isiOS"):a.isAndroid&&a.body.addClass("isAndroid"),a.isSafari&&6===parseInt(a.browserVersion(),10)&&a.body.addClass("isSafari6"),a.isNativeAndroid&&a.body.addClass("isNativeAndroidBrowser")});var b={},c,d,e,f=750,g=150,h;function i(a){return"tagName"in a?a:a.parentNode}function j(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"left":"right":c-d>0?"up":"down"}function k(){if(h=null,b.last)try{b&&b.el&&(b.el.trigger("longtap"),b={})}catch(a){}}function l(){h&&clearTimeout(h),h=null}function m(){c&&clearTimeout(c),e&&clearTimeout(e),d&&clearTimeout(d),h&&clearTimeout(h),c=e=d=h=null,b={}}a(function(){var n,o,p=a(document.body),q=!1;p.on(a.eventStart,function(d){if(n=Date.now(),o=n-(b.last||n),d.originalEvent&&(d=d.originalEvent),window.navigator.msPointerEnabled||window.navigator.pointerEnabled){if(window&&window.jQuery&&a===window.jQuery){if(d.originalEvent&&!d.originalEvent.isPrimary)return}else if(!d.isPrimary)return;d=d.originalEvent?d.originalEvent:d,p.on("MSHoldVisual",function(a){a.preventDefault()}),b.el=a(i(d.target)),c&&clearTimeout(c),b.x1=d.pageX,b.y1=d.pageY,q=!1}else"mousedown"===a.eventStart?(b.el=a(i(d.target)),c&&clearTimeout(c),b.x1=d.pageX,b.y1=d.pageY,q=!1):1===d.touches.length&&(b.el=a(i(d.touches[0].target)),c&&clearTimeout(c),b.x1=d.touches[0].pageX,b.y1=d.touches[0].pageY,q=2===d.targetTouches.length?!0:!1);o>0&&250>=o&&(b.isDoubleTap=!0),b.last=n,h=setTimeout(k,f)}),p.on(a.eventMove,function(f){if(f.originalEvent&&(f=f.originalEvent),window.navigator.msPointerEnabled){if(window&&window.jQuery&&a===window.jQuery){if(f.originalEvent&&!f.originalEvent.isPrimary)return}else if(!f.isPrimary)return;f=f.originalEvent?f.originalEvent:f,l(),b.x2=f.pageX,b.y2=f.pageY}else l(),"mousemove"===a.eventMove?(b.x2=f.pageX,b.y2=f.pageY):1===f.touches.length&&(b.x2=f.touches[0].pageX,b.y2=f.touches[0].pageY);if(a.isAndroid){if(a.gestureLength=10,!b.el)return;b.x2&&Math.abs(b.x1-b.x2)>a.gestureLength||b.y2&&Math.abs(b.y1-b.y2)>a.gestureLength?d=setTimeout(function(){f.preventDefault(),b&&b.el&&(b.el.trigger("swipe"),b.el.trigger("swipe"+j(b.x1,b.x2,b.y1,b.y2)),b={})},0):"last"in b&&(e=setTimeout(function(){b&&b.el&&b.el.trigger("tap"),b&&b.isDoubleTap?b&&b.el&&(b.el.trigger("doubletap"),b={}):c=setTimeout(function(){return c=null,b&&b.el?(b.el.trigger("singletap"),b={},!1):void 0},g)},0))}}),p.on(a.eventEnd,function(f){if(window.navigator.msPointerEnabled)if(window&&window.jQuery&&a===window.jQuery){if(f.originalEvent&&!f.originalEvent.isPrimary)return}else if(!f.isPrimary)return;l(),b.el&&(b.x2&&Math.abs(b.x1-b.x2)>a.gestureLength||b.y2&&Math.abs(b.y1-b.y2)>a.gestureLength?d=setTimeout(function(){b&&b.el&&(b.el.trigger("swipe"),b.el.trigger("swipe"+j(b.x1,b.x2,b.y1,b.y2)),b={})},0):"last"in b&&(e=setTimeout(function(){b&&b.el&&b.el.trigger("tap"),b&&b.isDoubleTap?b&&b.el&&(b.el.trigger("doubletap"),b={}):c=setTimeout(function(){return c=null,b&&b.el?(b.el.trigger("singletap"),b={},!1):void 0},g)},0)))}),p.on("touchcancel",m)}),["swipe","swipeleft","swiperight","swipeup","swipedown","doubletap","tap","singletap","longtap"].forEach(function(b){a.fn.extend({method:function(a){return this.on(b,a)}})}),a.extend({UIDesktopCompat:function(){a.isDesktop&&a.isSafari?a("body").addClass("isiOS").addClass("isDesktopSafari isDesktop"):a.isDesktop&&a.isChrome&&a("body").addClass("isAndroid").addClass("isDesktopChrome isDesktop")}}),a(function(){a.UIDesktopCompat()}),a(function(){a.body=a("body"),a.body[0].classList.contains("splitlayout")||a("body").prepend("<nav id='global-nav'></nav>"),a.body[0].classList.contains("splitlayout")&&window.innerWidth<768&&a("meta[name=viewport]").attr("content","width=device-width, initial-scale=0.45, maximum-scale=2, user-scalable=yes"),a("h1").each(function(a,b){b.nextElementSibling&&"A"===b.nextElementSibling.nodeName&&b.classList.add("buttonOnRight")}),a(".toolbar").prev("article").addClass("has-toolbar")}),a.extend({subscriptions:{},subscribe:function(b,c){a.subscriptions[b]||(a.subscriptions[b]=[]);var d=a.Uuid();return a.subscriptions[b].push({token:d,callback:c}),d},unsubscribe:function(b){setTimeout(function(){for(var c in a.subscriptions)if(a.subscriptions[c])for(var d=0,e=a.subscriptions[c].length;e>d;d++)if(a.subscriptions[c][d].token===b)return a.subscriptions[c].splice(d,1),b;return!1})},publish:function(b,c){return a.subscriptions[b]?(setTimeout(function(){var d=a.subscriptions[b]?a.subscriptions[b].length:0;while(d--)a.subscriptions[b][d].callback(b,c);return!0}),!0):!1}});function n(b){var c,d;"transition"in document.body.style?c="transition-duration":"-webkit-transition"in document.body.style&&(c="-webkit-transition-duration");function e(a){return/m/.test(a)?parseFloat(a):/s/.test(a)?100*parseFloat(a):void 0}d=e(a("article").eq(0).css(c)),setTimeout(function(){a(b).trigger({type:"navigationend"})},d)}a.extend({UITrackHashNavigation:function(b,c){b=b||!0,a.UISetHashOnUrl(a.UINavigationHistory[a.UINavigationHistory.length-1],c)},UISetHashOnUrl:function(b,c){c=c||"#/";var d;d=/^#/.test(b)?c+b.split("#")[1]:c+b,a.isAndroid?(/#/.test(b)&&(b=b.split("#")[1]),/\//.test(b)&&(b=b.split("/")[1]),window.location.hash="#/"+b):window.history.replaceState("Object","Title",d)},UIGoBackToArticle:function(b){var c=a.UINavigationHistory.indexOf(b),d=a("article.current"),e=a(b),f,g;0===a.UINavigationHistory.length&&(e=a("article:first-of-type"),a.UINavigationHistory.push("#"+e[0].id));var h;h=a.UINavigationHistory.length>1?a.UINavigationHistory.splice(c+1):a("article.previous"),a.publish("chui/navigateBack/leave",d[0].id),a.publish("chui/navigateBack/enter",e[0].id),d[0].scrollTop=0,e[0].scrollTop=0,h.length&&a.each(h,function(b,c){a(c).removeClass("previous").addClass("next"),a(c).prev().removeClass("previous").addClass("next")}),f=d.next().hazClass("toolbar"),g=e.next().hazClass("toolbar"),e.removeClass("previous next").addClass("current"),e.prev().removeClass("previous next").addClass("current"),g.removeClass("previous next").addClass("current"),d.removeClass("current").addClass("next"),d.prev().removeClass("current").addClass("next"),f.removeClass("current").addClass("next"),a(".toolbar.previous").removeClass("previous").addClass("next"),a.UISetHashOnUrl(a.UINavigationHistory[a.UINavigationHistory.length-1]),n(e)},UIGoBack:function(){var b=a.UINavigationHistory.length,c=a("article.current"),d=a(a.UINavigationHistory[b-2]),e,f;0===b&&(d=a("article:first-of-type"),a.UINavigationHistory.push("#"+d[0].id)),a.publish("chui/navigateBack/leave",c[0].id),a.publish("chui/navigateBack/enter",d[0].id),c[0].scrollTop=0,d[0].scrollTop=0,e=c.next().hazClass("toolbar"),f=d.next().hazClass("toolbar"),d.removeClass("previous").addClass("current"),d.prev().removeClass("previous").addClass("current"),f.removeClass("previous").addClass("current"),c.removeClass("current").addClass("next"),c.prev().removeClass("current").addClass("next"),e.removeClass("current").addClass("next"),a.UISetHashOnUrl(a.UINavigationHistory[b-2]),1!==a.UINavigationHistory.length&&(a.UINavigationHistory.pop(),n(d))},isNavigating:!1,UIGoToArticle:function(b){if(!a.isNavigating){a.isNavigating=!0;var c=a("article.current"),d=c.prev();b=a(b);var e="#"+b[0].id,f=b.prev(),g,h,i="next previous";a.publish("chui/navigate/leave",c[0].id),a.UINavigationHistory.push(e),a.publish("chui/navigate/enter",b[0].id),c[0].scrollTop=0,b[0].scrollTop=0,g=c.next().hazClass("toolbar"),h=b.next().hazClass("toolbar"),c.removeClass("current").addClass("previous"),d.removeClass("current").addClass("previous"),g.removeClass("current").addClass("previous"),b.removeClass(i).addClass("current"),f.removeClass(i).addClass("current"),h.removeClass(i).addClass("current"),a.UISetHashOnUrl(b[0].id),setTimeout(function(){a.isNavigating=!1},500),n(b)}}}),a(function(){a.extend({UINavigationHistory:["#"+a("article").eq(0).attr("id")]}),a("nav:not(#global-nav)").each(function(b,c){a("body")[0].classList.contains("splitlayout")||c.classList.add(0===b?"current":"next")}),a("article").each(function(b,c){a("body")[0].classList.contains("splitlayout")||a("body")[0].classList.contains("slide-out-app")||c.classList.add(0===b?"current":"next")}),a("body").on("singletap","a.back",function(){this.classList.contains("back")&&a.UIGoBack()}),a("body").on("singletap doubletap","li",function(){var b=a(this);if(!a.isNavigating&&this.hasAttribute("data-goto")&&this.getAttribute("data-goto")&&document.getElementById(this.getAttribute("data-goto"))&&!a(this).parent()[0].classList.contains("deletable")){a(c).addClass("navigable"),b.addClass("selected");var c="#"+this.getAttribute("data-goto");setTimeout(function(){b.removeClass("selected")},500);var d=a(c);a.UIGoToArticle(d)}}),a("li[data-goto]").each(function(b,c){a(c).closest("article").addClass("navigable");var d="#"+c.getAttribute("data-goto");a(d).addClass("navigable")}),a("article").eq(1)[0]&&a.UISetHashOnUrl(a("article").eq(0)[0].id),a("nav").on(a.eventStart,function(a){a.preventDefault()})}),a(function(){a("body").on("singletap",".button",function(){var b=a(this);b.parent(".segmented")[0]||b.parent(".tabbar")[0]||(b.addClass("selected"),setTimeout(function(){b.removeClass("selected")},500))})}),a.fn.extend({UIBlock:function(b){return b=b?" style='opacity:"+b+"'":" style='opacity: .5;'",a(this).before("<div class='mask'"+b+"></div>"),a("article.current").attr("aria-hidden",!0),this},UIUnblock:function(){return a(".mask").remove(),a("article.current").removeAttr("aria-hidden"),this}}),a.fn.extend({UICenter:function(){if(this[0]){var b=a(this),c=b.parent(),d;d="absolute"!==b.css("position")?"relative":"absolute";var e,f,g,h;"absolute"===d?(e=b[0].clientHeight,f=b[0].clientWidth,g=c[0].clientHeight,h=c[0].clientWidth):(e=parseInt(b.css("height"),10),f=parseInt(b.css("width"),10),g=parseInt(c.css("height"),10),h=parseInt(c.css("width"),10));var i,j;"body"===c[0].nodeName?(i=window.innerHeight/2+window.pageYOffset-e/2+"px",j=window.innerWidth/2-f/2+"px"):(i=g/2-e/2+"px",j=h/2-f/2+"px"),"absolute"!==d&&(j=0),b.css({left:j,top:i})}}}),a.fn.extend({UIBusy:function(b){b=b||{};var c=this,d=b.color||"#000",e=b.size||"80px",f=b&&"right"===b.position?"align-flush":null,g=b.duration||"2s",h,i=function(){var b={"-webkit-animation-duration":g};return h=a('<span class="busy"></span>'),a(h).css({"background-color":d,height:e,width:e}),a(h).css(b),a(h).attr("role","progressbar"),f&&a(h).addClass(f),c.append(h),this},j=function(){var b={"-webkit-animation-duration":g};return h=a('<div class="busy"><div></div><div></div></div>'),a(h).css({height:e,width:e,"background-image":"url(\"data:image/svg+xml;utf8,<svg xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' version='1.1' x='0px' y='0px' width='400px' height='400px' viewBox='0 0 400 400' enable-background='new 0 0 400 400' xml:space='preserve'><circle fill='none' stroke='"+d+"' stroke-width='20' stroke-miterlimit='10' cx='199' cy='199' r='174'/></svg>\")"}),a(h).css(b),a(h).attr("role","progressbar"),a(h).innerHTML="<div></div><div></div>",f&&a(h).addClass("align-"+f),c.append(h),this},k=function(){return h=a('<progress class="busy"></progress>'),a(h).css({color:d}),a(h).attr("role","progressbar"),a(h).addClass("win-ring"),f&&a(h).addClass("align-"+f),c.append(h),this};a.isWin?k(b):a.isAndroid||a.isChrome?j(b):(a.isiOS||a.isSafari)&&i(b)}}),a.extend({UIPopup:function(b){if(b){var c=b.id||a.Uuid(),d=b.title?"<header><h1>"+b.title+"</h1></header>":"",e=b.message?'<p role="note">'+b.message+"</p>":"",f=b.cancelButton?'<a href="javascript:void(null)" class="button cancel" role="button">'+b.cancelButton+"</a>":"",g=b.continueButton?'<a href="javascript:void(null)" class="button continue" role="button">'+b.continueButton+"</a>":"",h=b.callback||a.noop,i=b.empty?" noTitle":"",j,k,l=a.concat('<div class="popup closed',i,'" role="alertdialog" id="',c,'"><div class="panel">',d,e,"</div><footer>",f,g,"</footer>",k,"</div>");a("body").append(l),h&&g&&a(".popup").find(".continue").on(a.eventStart,function(){a(".popup").UIPopupClose(),h.call(h)}),a.UICenterPopup(),setTimeout(function(){a("body").find(".popup").removeClass("closed")},200),a("body").find(".popup").UIBlock("0.5");var m=a.eventStart+" singletap "+a.eventEnd;a(".mask").on(m,function(a){a.stopPropagation()})}},UICenterPopup:function(){var b=a(".popup");if(b[0]){var c=window.innerHeight/2+window.pageYOffset-b[0].clientHeight/2+"px",d;d=320===window.innerWidth?"10px":Math.floor((window.innerWidth-318)/2)+"px",b.css(a.isWin?{top:c}:{left:d,top:c})}}}),a.fn.extend({UIPopupClose:function(){(this||this.classList.contains("popup"))&&(a(this).UIUnblock(),a(this).remove())}}),a(function(){a("body").on(a.eventStart,".cancel",function(){a(this).closest(".popup")[0]&&a(this).closest(".popup").UIPopupClose()}),a(window).on("resize",function(){a.UICenterPopup()})}),a.fn.extend({UIPopover:function(b){if(!b)return[];var c=a(this),d;this[0].id?d=this[0].id:(d=a.Uuid(),c.attr("id",d));var e=b.id?b.id:a.Uuid(),f=b.title?"<header><h1>"+b.title+"</h1></header>":"",g=b.callback?b.callback:a.noop,h='<div class="popover" id="'+e+'">'+f+"<section></section></div>",i=function(b){var c=a(b).offset(),d=c.left,e,f,g=a(".popover"),h=g.offset();e=h.left,f=c.top+a(b)[0].clientHeight,g.css(g.width()+c.left>window.innerWidth?{left:window.innerWidth-g.width()-20+"px",top:f+20+"px"}:{left:d+"px",top:f+20+"px"})};a(this).on(a.eventStart,function(){if(a(".mask")[0])return a.UIPopoverClose(),void a("body").UIUnblock();var b=this;a(this).addClass("selected"),setTimeout(function(){a(b).removeClass("selected")},1e3),a("body").append(h),a(".popover").UIBlock(".5");var c="singletap";a.isWin&&a.isDesktop&&(c=a.eventStart+" singletap "+a.eventEnd),a(".mask").on(c,function(a){a.preventDefault(),a.stopPropagation()}),a(".popover").data("triggerEl",d),a.isWin?(i(b),a(".popover").addClass("open")):(a(".popover").addClass("open"),setTimeout(function(){i(b)})),g.call(g,b)})}}),a.extend({UIAlignPopover:function(){var b=a(".popover");if(b.length){var c=b.data("triggerEl"),d=a("#"+c).offset(),e=d.left;b.css(a(b).width()+d.left>window.innerWidth?{left:window.innerWidth-a(b).width()-20+"px"}:{left:e+"px"})}}}),a.extend({UIPopoverClose:function(){a("body").UIUnblock(),a(".popover").css("visibility","hidden"),setTimeout(function(){a(".popover").remove()},10)}}),a(function(){a(window).on("resize",function(){a.UIAlignPopover()});var b=a.eventStart+" singletap "+a.eventEnd;a("body").on(b,".mask",function(b){if(a(".popover")[0])a.UIPopoverClose();else{if(b&&1===b.nodeType)return;b.stopPropogation()}})}),a.fn.extend({UISegmented:function(b){if(!this.hasClass("paging")){var c=b&&b.callback?b.callback:a.noop,d;b&&b.selected>=0&&(d=b.selected),this.find("a").each(function(b,c){a(c).find("a").attr("role","radio"),b===d&&(c.setAttribute("aria-checked","true"),c.classList.add("selected"))}),this.on("singletap",".button",function(b){var d=a(this);this.parentNode.classList.contains("paging")||(d.siblings("a").removeClass("selected"),d.siblings("a").removeAttr("aria-checked"),d.addClass("selected"),d.attr("aria-checked",!0),c.call(this,b))})}}}),a.extend({UICreateSegmented:function(b){var c,d=b&&b.id?b.id:a.Uuid(),e=b&&b.className?b.className:"",f=b&&b.labels?b.labels:[],g=b&&b.selected?b.selected:0,h=['<div class="segmented'];return e&&h.push(" "+e),h.push('">'),f.forEach(function(a,b){h.push('<a role="radio" class="button'),h.push('"'),h.push(">"),h.push(a),h.push("</a>")}),h.push("</div>"),c=a(h.join("")),c.attr("id",d),c}}),a.fn.extend({UIPanelToggle:function(b,c){var d,e=0;e=this.children().hazClass("selected").index()||0,b instanceof Array?d=b.children("div"):"string"==typeof b&&(d=a(b).children("div")),d.eq(e).siblings().css({display:"none"}),c&&c.apply(this,arguments),this.on(a.eventEnd,"a",function(){d.eq(a(this).index()).css({display:"block"}).siblings().css("display","none")}),this.on("singletap",".button",function(){var b=a(this);this.parentNode.classList.contains("paging")||(b.siblings("a").removeClass("selected"),b.siblings("a").removeAttr("aria-checked"),b.addClass("selected"),b.attr("aria-checked",!0))})}}),a.extend({UIPaging:function(){var b=a(".segmented.paging").closest("nav").next();a(".segmented.paging").hasClass("horizontal")?b.addClass("horizontal"):a(".segmented.paging").hasClass("vertical")&&b.addClass("vertical"),b.children().eq(0).addClass("current"),b.children().eq(0).siblings().addClass("next");var c=function(){return b.children().length};a(".segmented.paging").on(a.eventStart,".button:first-of-type",function(){if(1!==c()){var d=a(this);d.next().removeClass("selected"),d.addClass("selected");var e;e=a("section.current"),0===e.index()?(e.removeClass("current"),b.children().eq(c()-1).addClass("current").removeClass("next"),b.children().eq(c()-1).siblings().removeClass("next").addClass("previous")):(e.removeClass("current").addClass("next"),e.prev().removeClass("previous").addClass("current")),setTimeout(function(){d.removeClass("selected")},250)}}),a(".segmented.paging").on(a.eventStart,".button:last-of-type",function(){if(1!==c()){var d=a(this);d.prev().removeClass("selected"),d.addClass("selected");var e;this.classList.contains("disabled")||(e=a("section.current"),e.index()===c()-1?(e.removeClass("current"),b.children().eq(0).addClass("current").removeClass("previous"),b.children().eq(0).siblings().removeClass("previous").addClass("next")):(e.removeClass("current").addClass("previous"),e.next().removeClass("next").addClass("current")),setTimeout(function(){d.removeClass("selected")},250))}})}}),a.fn.extend({UIDeletable:function(b){var c=this;if(b)return b&&b.list?a.UIDeletable(b):b&&!b.list?(a.extend(b,{list:c}),a.UIDeletable(b)):void 0}}),a.extend({UIDeletable:function(b){if(b&&b.list&&!(!b instanceof Array)){var c=a(b.list),d=b.editLabel||"Edit",e=b.doneLabel||"Done",f=b.deleteLabel||"Delete",g=b.placement||"right",h=b.callback||a.noop,i,j,k,l,m="swiperight",n="swipeleft",o=a("html").attr("dir");o=o?o.toLowerCase():"","rtl"===o&&(m="swipeleft",n="swiperight"),a.isWin&&(f="");var p=a("li").eq(1)[0].clientHeight;i=a.concat('<a href="javascript:void(null)" class="button delete">',f,"</a>"),j=a.concat('<a href="javascript:void(null)" class="button edit">',d,"</a>"),k='<span class="deletion-indicator"></span>',"left"===g?c[0].classList.contains("deletable")||c.closest("article").prev().prepend(j):c[0].classList.contains("deletable")||(c.closest("article").prev().append(j),c.closest("article").prev().find("h1").addClass("buttonOnRight"),c.closest("article").prev().find(".edit").addClass("align-flush"),l=c.closest("article").prev().find(".edit")),c.find("li").each(function(b,c){a(c).has(".deletion-indicator")[0]||(a(c).prepend(k),a(c).append(i))}),c.addClass("deletable");var q=function(b,c,f){a(function(){f.on("singletap",function(){var b=this;this.classList.contains("edit")?setTimeout(function(){b.classList.remove("edit"),b.classList.add("done"),a(b).text(e),a(c).addClass("showIndicators")}):this.classList.contains("done")&&setTimeout(function(){b.classList.remove("done"),b.classList.add("edit"),a(b).text(d),a(c).removeClass("showIndicators"),a(c).find("li").removeClass("selected")})}),a(c).on("singletap",".deletion-indicator",function(){return a(this).parent("li").hasClass("selected")?void a(this).parent("li").removeClass("selected"):void a(this).parent("li").addClass("selected")}),(a.isiOS||a.isSafari)&&(a(c).on(m,"li",function(){a(this).removeClass("selected")}),a(c).on(n,"li",function(){a(this).addClass("selected")})),a(c).on("singletap",".delete",function(){var c=this,d="-1000%";"rtl"===a("html").attr("dir")&&(d="1000%"),a(this).siblings().css({"-webkit-transform":"translate3d("+d+",0,0)","-webkit-transition":"all 1s ease-out"}),setTimeout(function(){b.call(b,c),a(c).parent().remove()},500)})})};return q(h,c,l)}}}),a.fn.extend({UISelectList:function(b){var c=b&&b.name?b.name:a.Uuid(),d=this[0];d.classList.add("select"),a(d).find("li").forEach(function(d,e){var f=null!==d.getAttribute("data-select-value")?d.getAttribute("data-select-value"):"";d.setAttribute("role","radio"),a(d).removeClass("selected").find("input").removeAttr("checked"),b&&b.selected===e?(d.setAttribute("aria-checked","true"),d.classList.add("selected"),a(d).find("input")[0]?a(d).find("input").prop("checked",!0).attr("value",f):a(d).append('<input type="radio" checked="checked" name="'+c+'" value="'+f+'">')):a(d).find("input")[0]||a(d).append('<input type="radio" name="'+c+'" value="'+f+'">')}),a(d).on("singletap","li",function(){var c=this;a(c).siblings("li").removeClass("selected"),a(c).siblings("li").removeAttr("aria-checked"),a(c).siblings("li").find("input").removeAttr("checked"),a(c).addClass("selected"),c.setAttribute("aria-checked",!0),a(c).find("input").prop("checked",!0),b&&b.callback&&b.callback.apply(this,arguments)})}}),a.extend({UISheet:function(b){var c=a.Uuid(),d="",e="";b&&(c=b.id?b.id:c,d=b.listClass?" "+b.listClass:"",e=' style="background-color:'+b.background+';" '||"");var f='<div id="'+c+'" class="sheet'+d+'"><div class="handle"></div><section class="scroller-vertical"></section></div>';a("body").append(f),a(".sheet .handle").on(a.eventStart,function(){a.UIHideSheet()})},UIShowSheet:function(){a("article.current").addClass("blurred"),a.isAndroid||a.isChrome?(a(".sheet").css("display","block"),setTimeout(function(){a(".sheet").addClass("opened")},20)):a(".sheet").addClass("opened")},UIHideSheet:function(){a(".sheet").removeClass("opened"),a("article.current").addClass("removeBlurSlow"),setTimeout(function(){a("article").removeClass("blurred"),a("article").removeClass("removeBlurSlow")},500)}}),a.extend({UISlideout:function(b){var c,d,e=a.noop;c=b&&b.position?b.position:"left",d=b&&b.dynamic?b.dynamic:!1,b&&b.callback&&(e=b.callback);var f=a("<a class='button slide-out-button' href='javascript:void(null)'></a>"),g='<div class="slide-out"><section></section></div>';a("article").removeClass("next"),a("article").removeClass("current"),a("article").prev().removeClass("next"),a("article").prev().removeClass("current"),a("body").append(g),a("body").addClass("slide-out-app"),a("article:first-of-type").addClass("show"),a("article:first-of-type").prev().addClass("show"),a("#global-nav").append(f),a(".slide-out-button").on(a.eventStart,function(){a(".slide-out").toggleClass("open")}),d?a(".slide-out").on("singletap","li",function(){e(this)}):a(".slide-out").on("singletap","li",function(){var b="#"+a(this).attr("data-show-article");a.UINavigationHistory[0]=b,a.UISetHashOnUrl(b),a.publish("chui/navigate/leave",a("article.show")[0].id),a.publish("chui/navigate/enter",b),a(".slide-out").removeClass("open"),a("article").removeClass("show"),a("article").prev().removeClass("show"),a(b).addClass("show"),a(b).prev().addClass("show")})}}),a.extend(a.UISlideout,{populate:function(b){var c=a(".slide-out");if(c[0]&&a.isArray(b)){c.find("section").append('<ul class="list"></ul>');var d=c.find("ul");b.forEach(function(a){for(var b in a)d.append("header"===b?'<li class="slideout-header"><h2>'+a[b]+"</h2></li>":'<li data-show-article="'+b+'"><h3>'+a[b]+"</h3></li>")})}}}),a.fn.extend({UIStepper:function(b){if(!b)return[];if(!b.start)return[];if(!b.end)return[];var c=a(this),d=b.start,e=b.end,f=b.defaultValue?b.defaultValue:b.start,g="+",h="-";a.isWin&&(g="",h="");var i='<a href="javascript:void(null)" class="button decrease">'+h+"</a>",j="<label>"+f+'</label><input type="text" value="'+f+'">',k='<a href="javascript:void(null)" class="button increase">'+g+"</a>";c.append(i+j+k),c.data("ui-value",{start:d,end:e,defaultValue:f});var l=function(){var b=c.find("input").val(),d=c.data("ui-value"),e=d.start,f;e>=b?a(this).addClass("disabled"):(f=Number(b)-1,c.find(".button:last-of-type").removeClass("disabled"),c.find("label").text(f),c.find("input")[0].value=f,b===e&&a(this).addClass("disabled"))},m=function(){var b=c.find("input").val(),d=c.data("ui-value"),e=d.end,f;b>=e?a(this).addClass("disabled"):(f=Number(b)+1,c.find(".button:first-of-type").removeClass("disabled"),c.find("label").text(f),c.find("input")[0].value=f,b===e&&a(this).addClass("disabled"))};c.find(".button:first-of-type").on("singletap",function(){l.call(this,c)}),c.find(".button:last-of-type").on("singletap",function(){m.call(this,c)})}}),a.extend({UIResetStepper:function(a){var b=a.data("ui-value").defaultValue;a.find("label").html(b),a.find("input")[0].value=b}}),a.fn.extend({UISwitch:function(){var b=!1;this.forEach(function(c,d){c.setAttribute("role","checkbox"),a(c).data("ui-setup")!==!0&&(c.querySelector("input")||c.insertAdjacentHTML("afterBegin",'<input type="checkbox">'),c.classList.contains("on")&&c.querySelector("input").setAttribute("checked","checked"),c.querySelector("em")&&(b=!0),b||c.insertAdjacentHTML("afterBegin","<em></em>"),a(c).on("singletap",function(){var a=c.querySelector("input");c.classList.contains("on")?(c.classList.remove("on"),c.removeAttribute("aria-checked"),a.removeAttribute("checked")):(c.classList.add("on"),a.setAttribute("checked","checked"),c.setAttribute("aria-checked",!0))}),a(c).on("swipeleft",function(){var a=c.querySelector("input");c.classList.contains("on")&&(c.classList.remove("on"),c.removeAttribute("aria-checked"),a.removeAttribute("checked"))}),a(c).on("swiperight",function(){var a=c.querySelector("input");c.classList.contains("on")||(c.classList.add("on"),a.setAttribute("checked","checked"),c.setAttribute("aria-checked",!0))}),a(c).data("ui-setup",!0))})}}),a.extend({UICreateSwitch:function(b){var c=b?b.id:a.Uuid(),d=b&&b.name?' name="'+b.name+'"':"",e=b&&b.value?' value="'+b.value+'"':"",f=b&&"on"===b.state?" "+b.state:"",g=b&&"on"===b.state?' checked="checked"':"",h=a.concat('<span class="switch',f,'" id="',c,'"><em></em>','<input type="checkbox"',d,g,e,"></span>");return a(h)}}),a(function(){a(".switch").UISwitch()}),document.addEventListener("touchstart",function(a){var b=a.target,c=0;for(c=0;10>c;c+=1)null!==b&&(void 0!==b.className&&b.className.match("navigable")&&(0===b.scrollTop?b.scrollTop=1:b.scrollTop+b.offsetHeight===b.scrollHeight&&(b.scrollTop=b.scrollTop-1)),b=b.parentNode)}),a.extend({UITabbar:function(b){if(b){a("body").addClass("hasTabBar"),a.isiOS6&&a("body").addClass("isiOS6");for(var c=b.id||a.Uuid(),d=b.selected||"",e='<div class="tabbar" id="'+c+'">',f=a.isiOS||a.isSafari?'<span class="icon"></span>':"",g=0;g<b.tabs;g++)e+='<a class="button '+b.icons[g],d===g+1&&(e+=" selected"),e+='">'+f+"<label>"+b.labels[g]+"</label></a>";e+="</div>",a("body").append(e),a("nav").removeClass("current").addClass("next"),a("#global-nav").removeClass("next"),a("nav").eq(d).removeClass("next").addClass("current"),a("article").removeClass("current").addClass("next"),a("article").eq(d-1).removeClass("next").addClass("current"),a("body").find(".tabbar").on("singletap",".button",function(){var b=this,c,d;a.publish("chui/navigate/leave",a("article.current")[0].id),b.classList.add("selected"),a(this).siblings("a").removeClass("selected"),c=a(this).index(),a("article.previous").removeClass("previous").addClass("next"),a("nav.previous").removeClass("previous").addClass("next"),a("article.current").removeClass("current").addClass("next"),a("nav.current").removeClass("current").addClass("next"),d=a("article").eq(c)[0].id,a.publish("chui/navigate/enter",d),a("article").each(function(b,c){a(c).scrollTop(0)}),a.UISetHashOnUrl("#"+d),a.UINavigationHistory[0]==="#"+d?a.UINavigationHistory=[a.UINavigationHistory[0]]:1===a.UINavigationHistory.length?a.UINavigationHistory[0]!=="#"+d&&a.UINavigationHistory.push("#"+d):3===a.UINavigationHistory.length?a.UINavigationHistory.pop():a.UINavigationHistory[1]="#"+d,a("article").eq(c).removeClass("next").addClass("current"),a("nav").eq(c+1).removeClass("next").addClass("current")})}}}),a.extend({templates:{},template:function(a,b){var c;b=b||"data",c=/\[\[=([\s\S]+?)\]\]/g;var d=new Function(b,"var p=[];p.push('"+a.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(c,"',$1,'").split("[[").join("');").split("]]").join("p.push('")+"');return p.join('');");return d}}),a.extend({UISearch:function(b){var c=b&&b.articleId||a("article").eq(0),d=b&&b.id||a.Uuid(),e=b&&b.placeholder||"search",f=b&&b.results||1,g='<div class="searchBar"><input placeholder="'+e+'" type="search" results="'+f+'" id="'+d+'"></div>';a(c).find("section").prepend(g),a.isWin&&(a(c).prev().append(g),a("#"+d).parent().append('<span class="searchGlyph">&#xe11A;</span>'))
}}),a(function(){var b=function(){var b=document.createElement("div").style,c=function(){for(var a="t,webkitT".split(","),c=a.length,d,e=0;c>e;e++)if(d=a[e]+"ransform",d in b)return a[e].substr(0,a[e].length-1);return!1}(),d=c?"-"+c.toLowerCase()+"-":"",e=n("transform"),f=n("transitionDuration"),g="ontouchstart"in window,h=a.eventStart,i=a.eventMove,j=a.eventEnd,k=a.eventCancel,l=function(){if(c===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd"};return a[c]}(),m=function(b){var c,e,f;this.wrapper="string"==typeof b.target?document.querySelector(b.target):b.target,this.options={panels:b.panels||3,snapThreshold:null,loop:b.loop||!0},a.isRTL&&(b.loop=!0);for(var g in b)this.options[g]=b[g];this.wrapper.style.overflow="hidden",this.wrapper.style.position="relative",this.carouselPanels=[],c=document.createElement("ul"),c.className="carousel-track",c.style.cssText="position:relative;top:0;height:100%;width:100%;"+d+"transition-duration:0;"+d+"transform:translateZ(0);"+d+"transition-timing-function:ease-out",this.wrapper.appendChild(c),this.track=c,this.refreshSize();for(var k,m=-1;2>m;m++)e=document.createElement("li"),e.id="carousel-panel-"+(m+1),e.style.cssText=d+"transform:translateZ(0);position:absolute;top:0;height:100%;width:100%;left:"+100*m+"%",k=-1===m?this.options.panels-1:m,a(e).data("upcomingPanelIndex",k),this.options.loop||-1!==m||(e.style.visibility="hidden"),this.track.appendChild(e),this.carouselPanels.push(e);f=this.carouselPanels[1].className,this.carouselPanels[1].className=f?f+" carousel-panel-active":"carousel-panel-active",this.wrapper.addEventListener(h,this,!1),this.wrapper.addEventListener(i,this,!1),this.wrapper.addEventListener(j,this,!1),this.track.addEventListener(l,this,!1);var n;if(b.pagination){n=document.createElement("ul"),n.className="pagination";for(var o=0;o<panels.length;o++)e=document.createElement("li"),0===o&&(e.className="selected"),n.appendChild(e);a(this.wrapper).after(n)}};m.prototype={currentPanel:1,x:0,panel:0,customEvents:[],onSlide:function(a){this.wrapper.addEventListener("carousel-panel-move",a,!1),this.customEvents.push(["move",a])},destroy:function(){while(this.customEvents.length)this.wrapper.removeEventListener("carousel-panel-"+this.customEvents[0][0],this.customEvents[0][1],!1),this.customEvents.shift();this.wrapper.removeEventListener(h,this,!1),this.wrapper.removeEventListener(i,this,!1),this.wrapper.removeEventListener(j,this,!1),this.track.removeEventListener(l,this,!1)},refreshSize:function(){this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.panelWidth=this.wrapperWidth,this.maxX=-this.options.panels*this.panelWidth+this.wrapperWidth,this.snapThreshold=null===this.options.snapThreshold?Math.round(.15*this.panelWidth):/%/.test(this.options.snapThreshold)?Math.round(this.panelWidth*this.options.snapThreshold.replace("%","")/100):this.options.snapThreshold},updatePanelCount:function(a){this.options.panels=a,this.maxX=-this.options.panels*this.panelWidth+this.wrapperWidth},goToPanel:function(b){this.carouselPanels[this.currentPanel].className=this.carouselPanels[this.currentPanel].className.replace(/(^|\s)carousel-panel-active(\s|$)/,""),b=0>b?0:b>this.options.panels-1?this.options.panels-1:b,this.panel=b,this.track.style[f]="0s",this.getPosition(-b*this.panelWidth),this.currentPanel=this.panel+1-3*Math.floor((this.panel+1)/3),this.carouselPanels[this.currentPanel].className=this.carouselPanels[this.currentPanel].className+" carousel-panel-active",0===this.currentPanel?(this.carouselPanels[2].style.left=100*this.panel-100+"%",this.carouselPanels[0].style.left=100*this.panel+"%",this.carouselPanels[1].style.left=100*this.panel+100+"%",a(this.carouselPanels[2]).data("upcomingPanelIndex",0===this.panel?this.options.panels-1:this.panel-1),a(this.carouselPanels[0]).data("upcomingPanelIndex",this.panel),a(this.carouselPanels[1]).data("upcomingPanelIndex",this.panel===this.options.panels-1?0:this.panel+1)):1===this.currentPanel?(this.carouselPanels[0].style.left=100*this.panel-100+"%",this.carouselPanels[1].style.left=100*this.panel+"%",this.carouselPanels[2].style.left=100*this.panel+100+"%",a(this.carouselPanels[0]).data("upcomingPanelIndex",0===this.panel?this.options.panels-1:this.panel-1),a(this.carouselPanels[1]).data("upcomingPanelIndex",this.panel),a(this.carouselPanels[2]).data("upcomingPanelIndex",this.panel===this.options.panels-1?0:this.panel+1)):(this.carouselPanels[1].style.left=100*this.panel-100+"%",this.carouselPanels[2].style.left=100*this.panel+"%",this.carouselPanels[0].style.left=100*this.panel+100+"%",a(this.carouselPanels[1]).data("upcomingPanelIndex",0===this.panel?this.options.panels-1:this.panel-1),a(this.carouselPanels[2]).data("upcomingPanelIndex",this.panel),a(this.carouselPanels[0]).data("upcomingPanelIndex",this.panel===this.options.panels-1?0:this.panel+1)),this.slide()},handleEvent:function(a){switch(a.type){case h:this.start(a);break;case i:this.move(a);break;case k:case j:this.end(a)}},getPosition:function(a){this.x=a,this.track.style[e]="translate("+a+"px,0) translateZ(0)"},resize:function(){this.refreshSize(),this.track.style[f]="0s",this.getPosition(-this.panel*this.panelWidth)},start:function(a){if(!this.initiated){var b=g?a.touches[0]:a;this.initiated=!0,this.moved=!1,this.thresholdExceeded=!1,this.startX=b.pageX,this.startY=b.pageY,this.pointX=b.pageX,this.pointY=b.pageY,this.stepsX=0,this.stepsY=0,this.directionX=0,this.directionLocked=!1,this.track.style[f]="0s",this.event("touchstart")}},move:function(a){if(this.initiated){var b=g?a.touches[0]:a,c=b.pageX-this.pointX,d=b.pageY-this.pointY,e=this.x+c,f=Math.abs(b.pageX-this.startX);if(this.moved=!0,this.pointX=b.pageX,this.pointY=b.pageY,this.directionX=c>0?1:0>c?-1:0,this.stepsX+=Math.abs(c),this.stepsY+=Math.abs(d),!(this.stepsX<10&&this.stepsY<10)){if(!this.directionLocked&&this.stepsY>this.stepsX)return void(this.initiated=!1);a.preventDefault(),this.directionLocked=!0,!this.options.loop&&(e>0||e<this.maxX)&&(e=this.x+c/2),this.getPosition(e)}}},end:function(a){if(this.initiated){var b=g?a.changedTouches[0]:a,c=Math.abs(b.pageX-this.startX);if(this.initiated=!1,this.moved)return!this.options.loop&&(this.x>0||this.x<this.maxX)&&(c=0),c<this.snapThreshold?(this.track.style[f]=Math.floor(300*c/this.snapThreshold)+"ms",void this.getPosition(-this.panel*this.panelWidth)):void this.checkPosition()}},checkPosition:function(){var b,c,d;this.carouselPanels[this.currentPanel].className=this.carouselPanels[this.currentPanel].className.replace(/(^|\s)carousel-panel-active(\s|$)/,""),this.directionX>0?(this.panel=-Math.ceil(this.x/this.panelWidth),this.currentPanel=this.panel+1-3*Math.floor((this.panel+1)/3),b=this.currentPanel-1,b=0>b?2:b,this.carouselPanels[b].style.left=100*this.panel-100+"%",c=this.panel-1):(this.panel=-Math.floor(this.x/this.panelWidth),this.currentPanel=this.panel+1-3*Math.floor((this.panel+1)/3),b=this.currentPanel+1,b=b>2?0:b,this.carouselPanels[b].style.left=100*this.panel+100+"%",c=this.panel+1),d=this.carouselPanels[this.currentPanel].className,/(^|\s)carousel-panel-active(\s|$)/.test(d)||(this.carouselPanels[this.currentPanel].className=d?d+" carousel-panel-active":"carousel-panel-active"),d=this.carouselPanels[b].className,c-=Math.floor(c/this.options.panels)*this.options.panels,a(this.carouselPanels[b]).data("upcomingPanelIndex",c);var e=-this.panel*this.panelWidth;this.track.style[f]=Math.floor(500*Math.abs(this.x-e)/this.panelWidth)+"ms",this.options.loop||(this.carouselPanels[b].style.visibility=0===e||e===this.maxX?"hidden":""),this.x===e?this.slide():(this.getPosition(e),this.slide())},slide:function(){this.event("move")},event:function(a){var b=document.createEvent("Event");b.initEvent("carousel-panel-"+a,!0,!0),this.wrapper.dispatchEvent(b)}};function n(a){return""===c?a:(a=a.charAt(0).toUpperCase()+a.substr(1),c+a)}return m}();a.extend({UISetupCarousel:function(c){function d(a){var b=a.shift(0);return a.reverse(),a.unshift(b),a}if(c){c.loop=c.loop||!1;var e=new b({target:c.target,panels:c.panels.length,loop:c.loop,pagination:c.pagination});a(c.target).data("carousel",e),a.isRTL&&(c.panels=d(c.panels));for(var f,g=0;3>g;g++)f=0===g?c.panels.length-1:g-1,e.carouselPanels[g].innerHTML=c.panels[f];var h=0,i=a(c.target).next(".pagination");e.onSlide(function(){for(var b=0;3>b;b++){var d=a(e.carouselPanels[b]).data("upcomingPanelIndex");e.carouselPanels[b].innerHTML=c.panels[d]}h=a(".carousel-panel-active").data("upcomingPanelIndex"),i.find("li").removeClass("selected"),a.isRTL?(i.find("li").removeClass("selected"),1>h?i.find("li").eq(0).addClass("selected"):i.find("li").eq(c.panels.length-h).addClass("selected")):i.find("li").eq(h).addClass("selected")}),a(c.target).on("mousedown","img",function(){return!1});var j=a(c.target).width();i.width(j),i.on("click","li",function(){a(this).siblings("li").removeClass("selected"),a(this).addClass("selected");var b=0;if(a.isRTL){var c=a(this).parent().children("li").length;0===a(this).index()?e.goToPanel(0):(b=c-a(this).index(),e.goToPanel(b)),a(this).siblings("li").removeClass("selected"),a(this).addClass("selected")}else e.goToPanel(0===a(this).index()?0:a(this).index())})}}})}),a.fn.extend({UIRange:function(){if(!a.isWin&&"INPUT"===this[0].nodeName){var b=a(this),c,d=b.width(),e=(b.val()-b.attr("min"))/(b.attr("max")-b.attr("min")),f=-1.3;0>e?c=0:e>1?c=d:(c=d*e+f,f-=e),b.css({"background-size":Math.round(c)+"px 10px"})}}}),a(function(){a("input[type=range]").each(function(b,c){a(c).UIRange()}),a("body").on("input","input[type=range]",function(){a(this).UIRange()})}),a.extend({UISelectBox:function(){var b=function(a){var b;b=document.createEvent("MouseEvents"),b.initMouseEvent("mousedown",!0,!0,window),a.dispatchEvent(b)};if(!a.isDesktop&&a.isiOS)a(".select-box-label").each(function(b,c){var d=a(c),e=d.prev();e[0].id||e.attr("id",a.Uuid()),e.trigger("singletap"),d.text(e.val()),d.attr("for",e.attr("id"))}),a(".select-box select").on("change",function(){a(this).next().text(a(this).val())});else if(!a.isDesktop){var c=function(a){var b;b=document.createEvent("MouseEvents"),b.initMouseEvent("mousedown",!0,!0,window),a.dispatchEvent(b)};a.isDesktop||(a(".select-box-label").each(function(b,c){c.id||a(c).prev().attr("id",a.Uuid());var d=a(c).siblings("select").val();a(c).text(d)}),a(".select-box select").on("change",function(){var b=a(this).find("option:selected").text(),c=a(this);c.next("label").text(a(this).val()),c.siblings("label").text(b)}),a("body").on("singletap",".select-box-label",function(){c(a("select")[0])}))}}}),a(function(){a.UISelectBox()})}(window.jQuery);
//# sourceMappingURL=chui-3.5.5.min.map